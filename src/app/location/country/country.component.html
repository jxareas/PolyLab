<div class="grid">
  <div class="col-12">
    <div class="card px-6 py-6">
      <p-toast></p-toast>
      <mds-action-toolbar
        (newAction)="openNewCountryDialog()"
        (deleteAction)="deleteSelectedCountries()"
        [deleteDisabled]="selectedCountries.length === 0" />
      <jx-country-table #countryTable />
    </div>
    <jx-country-dialog #countryDialog [country]="country" />
    <mds-delete-single [itemName]="country.description || 'this country'"
                       (confirmAction)="confirmDelete($event); deleteCountryDialog.closeDialog()"
                       #deleteCountryDialog/>

    <!--        TODO: SEPARATE THE DELETE ALL SELECTED COUNTRIES DIALOG -->
    <p-dialog
      [(visible)]="deleteCountriesDialog"
      header="Confirm"
      [modal]="true"
      [style]="{ width: '450px' }">
      <div class="flex align-items-center justify-content-center">
        <i class="pi pi-exclamation-triangle mr-3" style="font-size: 2rem"></i>
        <span>Are you sure you want to delete all the selected countries?</span>
      </div>
      <ng-template pTemplate="footer">
        <button
          pButton
          pRipple
          icon="pi pi-times"
          class="p-button-text"
          label="No"
          (click)="deleteCountriesDialog = false"></button>
        <button
          pButton
          pRipple
          icon="pi pi-check"
          class="p-button-text"
          label="Yes"
          (click)="confirmDeleteSelected()"></button>
      </ng-template>
    </p-dialog>
  </div>
</div>
